---
title: "DataSci 203 Lab 1"
output:
  pdf_document:
    fig_caption: yes
author:
  Tarun Yeddela, Minh Doan, Elliot Stein, Jeff Houser
date: "October 21, 2025"
indent: true
header-includes:
 \usepackage{float}
 \floatplacement{figure}{H}
---
\newpage
```{r setup, include=FALSE}
library(knitr)
library(readr)
library(renv)
library(dplyr)
library(ggplot2)
knitr::opts_chunk$set(out.extra = "")
set.seed(50)
#renv::snapshot()
```





```{r data cleaning, message=FALSE, echo=FALSE}
#Initial data loading and Cleaning
anes <- read_csv("anes_timeseries_2024_csv_20250808.csv")

#Remove non-relevant answers from perception of Donald Trump
#V241180(political perception of Trump, 1 = extreme lib, 7 = extreme cons)
anes_clean <- subset(anes, anes$V241180 > 0 & anes$V241180 < 8 &
                      !is.na(anes$V241180))
```

# Introduction
In American politics, the rural and urban divide has emerged as one of the most significant predictors of candidate perception and partisan alignment. Political scientists have observed that where people live influences how they see parties, candidates, and national priorities^[Gimpel & Karnes 2006. “The Rural Side of the Urban-Rural Gap” (2006)]. Rural voters tend to emphasize traditional values and perceive political elites as disconnected from their communities, while urban voters prioritize diversity and political progressivism^[Cramer “The Politics of Resentment” (2016)]. These geographic identities not only predict outcome but they also shape how individuals interpret political messages and evaluate candidates within their own party.

The findings will help illuminate and determine how the perception of Donald Trump differs based on the geography and ideology of the respondent. They will reveal whether the shared geography and shared ideology exerts a stronger influence on candidate perception, which is an increasingly important question for both political scientists and practitioners navigating today’s divided information environment. These differences are important to understand the evolving geography of partisanship in the United States and understanding this can inform political campaign strategies, media framing, and future studies of ideological polarization. 

# Conceptualization and Operationalization

 This study examines how partisanship and geography shape perceptions of the Republican presidential candidate, Donald Trump. The key concepts in this research are party identification, urban/rural context, and candidate perception. Party identification refers to a respondent’s self reported political affiliation, which was operationalized using the ANES variable V241221. This variable records respondents’ self identified political affiliation. Respondents coded as 1 were classified as Democrats and those coded as 2 classified as Republicans. Urban/Rural context captures the respondent’s geographic environment, which was measured by using V242341. This variable categorizes respondents by community type where 1 and 2 were classified as urban (respondents living in a large city or suburb) and 3 and 4 were classified as rural (respondents living in a small town or rural area). Candidate perception is defined as the respondent’s evaluation of Donald Trump’s ideological position or ideology, which serves as a measure of how individuals view the Republican candidate. The respondents’ evaluation of the Republican candidate was measured using V241180, which asks participants to rate Trump’s ideological position on a 7 point scale ranging from extremely liberal to extremely conservative.  

# Data Understanding
 The data used in this analysis comes from the American National Election Studies (ANES), a survey done every four years since 1948 in line with the US election years. The data set contains a combination of demographic, behavioral and variables on attitude. These responses include respondents’ demographic and socioeconomic information. For this project, we are using the 2024 time series study dataset which includes approximately 5,500 responses. The key variables of interest are political identity, and urbanicity vs. rurality. We removed individuals who did not identify as either a democrat or republican. We also removed individuals from our data set who answered -9, -7, -6, -5, -4, -1, or 5 to the key rural or urban question (V242341). This represents users who either did not answer this question or provided a specific answer that we did not code into either urban or rural.
 
```{r data wrangling, include=FALSE}
#Create a new column in dataframe that defines urbanicity and party of respondent
anes_clean$d_source <- NA
anes_clean$d_source[anes_clean$V241221 == 1 & 
                  (anes_clean$V242341 == 3 | anes_clean$V242341 == 4)] <- "Rural Democrat"
anes_clean$d_source[anes_clean$V241221 == 2 & 
                  (anes_clean$V242341 == 3 | anes_clean$V242341 == 4)] <- "Rural Republican"
anes_clean$d_source[anes_clean$V241221 == 1 & 
                  (anes_clean$V242341 == 1 | anes_clean$V242341 == 2)] <- "Urban Democrat"
anes_clean$d_source[anes_clean$V241221 == 2 & 
                  (anes_clean$V242341 == 1 | anes_clean$V242341 == 2)] <- "Urban Republican"
#Find percentages for rural democrats and republicans within each party to understand
#what percentage voted for each number
rur_percentages <- anes_clean %>%
  group_by(anes_clean$d_source, anes_clean$V241180) %>%
  summarise(count = n()) %>%
  mutate(percentage = count / sum(count)) 
  rur_percentages <- subset(rur_percentages, rur_percentages$`anes_clean$d_source` == 
            "Rural Democrat" | rur_percentages$`anes_clean$d_source` == "Rural Republican")
names(rur_percentages)[names(rur_percentages) == 'anes_clean$d_source'] <- "Respondent" 


urb_percentages <- anes_clean %>%
  group_by(anes_clean$d_source, anes_clean$V241180) %>%
  summarise(count = n()) %>%
  mutate(percentage = count / sum(count)) 
  urb_percentages <- subset(urb_percentages, urb_percentages$`anes_clean$d_source` == 
            "Urban Democrat" | urb_percentages$`anes_clean$d_source` == "Urban Republican")
names(urb_percentages)[names(urb_percentages) == 'anes_clean$d_source'] <- "Respondent" 
```
 
``` {r rural perceptions, echo = FALSE, fig.keep = "last", fig.width = 7, fig.height = 3, fig.cap="Rural Democrat and Republic Perceptions of Republican Presidential Candidate"}
##Plot of Rural Democrats vs Rural Republican Views on Donald Trump:
ggplot(data = rur_percentages) +
  geom_bar(aes(x = factor(rur_percentages$`anes_clean$V241180`), y = rur_percentages$percentage, fill = `Respondent`),color = "black", position = position_dodge(), stat = "identity") +
  scale_y_continuous(labels = scales::percent, limits = c(0,0.6)) +
  scale_fill_manual(values=c("skyblue",
                             "firebrick2")) +
  labs(y = "Percentage of Rural D/R", x = "Scale of Liberal to Conservative
      (1= Extremely Liberal, 7 = Extremely Conservative", title =
        "Rural Democrat and Republican Perception of Donald Trump") +
  theme_minimal()

```

```{r urban perceptions, echo = FALSE, fig.keep = "last", fig.width = 7, fig.height = 3, fig.cap="Urban Democrat and Republic Perceptions of Republican Presidential Candidate"}
##Plot of Urban Democrats vs Rural Republican Views on Donald Trump:
ggplot(data = urb_percentages) +
  geom_bar(aes(x = factor(urb_percentages$`anes_clean$V241180`), y = urb_percentages$percentage, fill = `Respondent`),color = "black", position = position_dodge(), stat = "identity") +
  scale_y_continuous(labels = scales::percent, limits = c(0,0.6)) +
  scale_fill_manual(values=c("skyblue",
                             "firebrick2")) +
  labs(y = "Percentage of Urban D/R", x = "Scale of Liberal to Conservative
      (1= Extremely Liberal, 7 = Extremely Conservative", title =
        "Urban Democrat and Republican Perception of Donald Trump") +
  theme_minimal()
```



As seen in plots 1 and 2, rural democrats have a different perspective of Donald Trump politically than rural republicans do and the same is true for their urban equivalents. While rural and urban voters have different values and perspectives, these differences did not lead to individuals viewing Donald Trump politically differently depending on whether they live in an urban or rural area but instead were consistent upon party lines.

# Stating a Hypothesis:
 Our analysis examines the perspectives on the Republican candidate across different political and geographic groups. Specifically, we test two primary hypotheses:
 
> _H1 (Rural Comparison): The distribution of perspectives on the Republican candidate is the same for rural Democrats and rural Republicans._

> _H2 (Urban Comparison): The distribution of perspectives on the Republican candidate is the same for urban Democrats and urban Republicans._
 
Test Selection and Evaluation of Assumptions:
 The outcome variable, perspective on the Republican candidate, is measured on an ordinal scale, ranking responses from extremely liberal to extremely conservative. Given the ordinal nature of this data, a non-parametric test is most appropriate. We use the Wilcoxon rank-sum test (also known as the Mann-Whitney U test) to compare the distributions of candidate perceptions between the independent groups in each hypothesis. This test does not assume a normal distribution of the underlying data and provides reliable inference for large samples, such as those in the ANES dataset.
 For the Wilcoxon rank-sum test to provide reliable inference, several assumptions must be considered:
 
> _IID: The observations are required to be independent both within and between the comparison groups. The ANES dataset, from which the data is drawn, utilizes a complex sample design intended to minimize dependence among respondents._

> _Ordinal Scale: The dependent variable must be measured on at least an ordinal scale. Our variable for candidate perception is captured on a scale that ranks respondents from extremely liberal to extremely conservative._

# Test Results and Interpretation

```{r Wilcoxon rank sum test}
#Running Statistical Tests on Rural and Urban Respondents Perception of Donald Trump
rural_test_H1 <- wilcox.test(
  anes_clean$V241180[anes_clean$V241221 == 1 & (anes_clean$V242341 == 3 |
  anes_clean$V242341 == 4)], anes_clean$V241180[anes_clean$V241221 == 2 & 
  (anes_clean$V242341 == 3 | anes_clean$V242341 == 4)], paired = FALSE)
urban_test_H2 <- wilcox.test(
  anes_clean$V241180[anes_clean$V241221 == 1 & (anes_clean$V242341 == 1 |
  anes_clean$V242341 == 2)], anes_clean$V241180[anes_clean$V241221 == 2 & 
  (anes_clean$V242341 == 1 | anes_clean$V242341 == 2)], paired = FALSE)
```

```{r Test Results, echo=FALSE, results='hide'}
#Results of Statistical Tests on Rural and Urban Respondents Perception of Donald Trump
rural_test_H1
urban_test_H2

```
 For hypothesis 1, the test suggests that the null hypothesis of there being no difference between the distribution of rural Democrat and rural Republican perceptions of the political alignment of the Republican presidential candidate can be rejected (W = 242518, p-value = 2.029e-07). This corresponds to `r round(rur_percentages$percentage[ rur_percentages[2] == 7 & rur_percentages$Respondent == "Rural Democrat"]*100, digits = 2)`% of rural democrats categorizing Donald Trump as extremely conservative while this number is only `r round(rur_percentages$percentage[ rur_percentages[2] == 7 & rur_percentages$Respondent == "Rural Republican"]*100, digits = 2)`% for rural republicans. The practical significance of this is that, within a rural setting, democrats perceive the republican candidate as being further to the right politically than their republican counterparts that live in similar rural areas. 

 For hypothesis 2, the test suggests that the null hypothesis of there being no difference between the distribution of urban democrat and urban republican perceptions of the political alignment of the republican presidential candidate can also be rejected (W = 444232, p < . 2.2e-16). This corresponds to roughly `r round(urb_percentages$percentage[urb_percentages[2] == 7 & urb_percentages$Respondent == "Urban Democrat"]*100, digits = 2)`% of urban democrats categorizing Donald Trump as extremely conservative while this number is only `r round(urb_percentages$percentage[urb_percentages[2] == 7 & urb_percentages$Respondent == "Urban Republican"]*100, digits = 2)`% for urban republicans. The practical significance of this is that, within an urban setting, democrats perceive the republican candidate as being further to the right politically than their republican counterparts that live in similar urban areas.

# Overall Effect
As political polarization increases, the disparate views of those that identify as democrat and republican move further from a shared reality. Similarly, the bridge between rural and urban individuals in their voting patterns and political ideologies is considered to be growing as there is an increasingly pervasive ideology that representation differs among these groups by elected officials. This study hoped to provide some insight into how the rural-urban divide relates to party differences insofar as the political perception of a presidential candidate is defined.
These data suggest a significant difference between republican and democrat perception of the republican presidential candidate, independent of the location of the respondent. It appears that there may be more similarity within individual parties where geography may vary with rural and urban democrats and rural and urban republicans characterizing the political conservativism of this candidate similarly. 

These results may be of interest to political strategists and campaigns by providing evidence that the rural and urban divide may not be as meaningful as the democrat and republican divide depending on the subject matter. This study is limited to a single question in scope but can provide insight into how individuals view political candidates and define a scale of liberalness and conservatism similarly along party lines. Future research could help to better understand the causes of the divide in candidate perception and hopefully help mitigate the polarization present in the current political climate to move voters closer to a more similar shared political reality.
\newline
\newline
\newline
\newline
github link: https://github.com/eliot-grad/203_lab1